#!/usr/bin/env bash

# RVM-aware chef-client wrapper
#
# Generated by Chef for <%= node['fqdn'] %>
# Local modifications will be overridden

if [[ -d "<%= node['rvm']['root_path'] %>" ]] ; then
export PATH="/bin:<%= node['rvm']['root_path'] %>:$PATH"
  rvm_path='<%= node['rvm']['root_path'] %>'
  export rvm_path
  unset RUBY_VERSION
  unset GEM_HOME
  unset GEM_PATH
  unset MY_RUBY_HOME
  unset IRBRC
  rvm_ruby_string='system'
  export rvm_ruby_string
  unset rvm_gemset_name
  unset MAGLEV_HOME
fi

exec <%= node['rvm']['vagrant']['system_chef_client'] %> "$@"
